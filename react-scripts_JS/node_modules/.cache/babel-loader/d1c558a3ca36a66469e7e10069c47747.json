{"ast":null,"code":"var _jsxFileName = \"D:\\\\React_JS\\\\React_JS\\\\react-scripts_JS\\\\src\\\\sections\\\\@dashboard\\\\kanban\\\\KanbanTaskAdd.js\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n\nimport PropTypes from 'prop-types';\nimport { format, isSameDay, isSameMonth } from 'date-fns';\nimport { useState } from 'react'; // @mui\n\nimport { Box, Paper, Stack, Tooltip, Checkbox, IconButton, OutlinedInput, ClickAwayListener } from '@mui/material';\nimport { MobileDateRangePicker } from '@mui/lab'; // utils\n\nimport uuidv4 from '../../../utils/uuidv4'; // components\n\nimport Iconify from '../../../components/Iconify'; // ----------------------------------------------------------------------\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst defaultTask = {\n  attachments: [],\n  comments: [],\n  description: '',\n  due: [null, null],\n  assignee: []\n};\nKanbanTaskAdd.propTypes = {\n  onAddTask: PropTypes.func,\n  onCloseAddTask: PropTypes.func\n};\nexport default function KanbanTaskAdd(_ref) {\n  _s();\n\n  let {\n    onAddTask,\n    onCloseAddTask\n  } = _ref;\n  const [name, setName] = useState('');\n  const [completed, setCompleted] = useState(false);\n  const {\n    dueDate,\n    startTime,\n    endTime,\n    isSameDays,\n    isSameMonths,\n    onChangeDueDate,\n    openPicker,\n    onOpenPicker,\n    onClosePicker\n  } = useDatePicker({\n    date: [null, null]\n  });\n\n  const handleKeyUpAddTask = event => {\n    if (event.key === 'Enter') {\n      if (name.trim() !== '') {\n        onAddTask({ ...defaultTask,\n          id: uuidv4(),\n          name,\n          due: dueDate,\n          completed\n        });\n      }\n    }\n  };\n\n  const handleClickAddTask = () => {\n    if (name) {\n      onAddTask({ ...defaultTask,\n        id: uuidv4(),\n        name,\n        due: dueDate,\n        completed\n      });\n    }\n\n    onCloseAddTask();\n  };\n\n  const handleChangeCompleted = event => {\n    setCompleted(event.target.checked);\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(ClickAwayListener, {\n      onClickAway: handleClickAddTask,\n      children: /*#__PURE__*/_jsxDEV(Paper, {\n        variant: \"outlined\",\n        sx: {\n          p: 2\n        },\n        children: [/*#__PURE__*/_jsxDEV(OutlinedInput, {\n          multiline: true,\n          size: \"small\",\n          placeholder: \"Task name\",\n          value: name,\n          onChange: event => setName(event.target.value),\n          onKeyUp: handleKeyUpAddTask,\n          sx: {\n            '& input': {\n              p: 0\n            },\n            '& fieldset': {\n              borderColor: 'transparent !important'\n            }\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Stack, {\n          direction: \"row\",\n          justifyContent: \"space-between\",\n          children: [/*#__PURE__*/_jsxDEV(Tooltip, {\n            title: \"Mark task complete\",\n            children: /*#__PURE__*/_jsxDEV(Checkbox, {\n              disableRipple: true,\n              checked: completed,\n              onChange: handleChangeCompleted,\n              icon: /*#__PURE__*/_jsxDEV(Iconify, {\n                icon: 'eva:radio-button-off-outline'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 86,\n                columnNumber: 23\n              }, this),\n              checkedIcon: /*#__PURE__*/_jsxDEV(Iconify, {\n                icon: 'eva:checkmark-circle-2-outline'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 87,\n                columnNumber: 30\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 82,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 81,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Stack, {\n            direction: \"row\",\n            spacing: 1.5,\n            alignItems: \"center\",\n            children: [/*#__PURE__*/_jsxDEV(Tooltip, {\n              title: \"Assign this task\",\n              children: /*#__PURE__*/_jsxDEV(IconButton, {\n                size: \"small\",\n                children: /*#__PURE__*/_jsxDEV(Iconify, {\n                  icon: 'eva:people-fill',\n                  width: 20,\n                  height: 20\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 94,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 93,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 92,\n              columnNumber: 15\n            }, this), startTime && endTime ? /*#__PURE__*/_jsxDEV(DisplayTime, {\n              startTime: startTime,\n              endTime: endTime,\n              isSameDays: isSameDays,\n              isSameMonths: isSameMonths,\n              onOpenPicker: onOpenPicker\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 99,\n              columnNumber: 17\n            }, this) : /*#__PURE__*/_jsxDEV(Tooltip, {\n              title: \"Add due date\",\n              children: /*#__PURE__*/_jsxDEV(IconButton, {\n                size: \"small\",\n                onClick: onOpenPicker,\n                children: /*#__PURE__*/_jsxDEV(Iconify, {\n                  icon: 'eva:calendar-fill',\n                  width: 20,\n                  height: 20\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 109,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 108,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 107,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(MobileDateRangePicker, {\n              open: openPicker,\n              onClose: onClosePicker,\n              onOpen: onOpenPicker,\n              value: dueDate,\n              onChange: onChangeDueDate,\n              renderInput: () => {}\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 114,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 91,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 7\n    }, this)\n  }, void 0, false);\n} // ----------------------------------------------------------------------\n\n_s(KanbanTaskAdd, \"r7SrEalfK+h75iDQ7i2A/0VwZ9w=\", false, function () {\n  return [useDatePicker];\n});\n\n_c = KanbanTaskAdd;\nexport function useDatePicker(_ref2) {\n  _s2();\n\n  let {\n    date\n  } = _ref2;\n  const [dueDate, setDueDate] = useState([date[0], date[1]]);\n  const [openPicker, setOpenPicker] = useState(false);\n  const startTime = dueDate[0] || '';\n  const endTime = dueDate[1] || '';\n  const isSameDays = isSameDay(new Date(startTime), new Date(endTime));\n  const isSameMonths = isSameMonth(new Date(startTime), new Date(endTime));\n\n  const handleChangeDueDate = newValue => {\n    setDueDate(newValue);\n  };\n\n  const handleOpenPicker = () => {\n    setOpenPicker(true);\n  };\n\n  const handleClosePicker = () => {\n    setOpenPicker(false);\n  };\n\n  return {\n    dueDate,\n    startTime,\n    endTime,\n    isSameDays,\n    isSameMonths,\n    onChangeDueDate: handleChangeDueDate,\n    openPicker,\n    onOpenPicker: handleOpenPicker,\n    onClosePicker: handleClosePicker\n  };\n} // ----------------------------------------------------------------------\n\n_s2(useDatePicker, \"Zl+d8nj2y1+/vDCK84V/rFeoyvY=\");\n\nDisplayTime.propTypes = {\n  isSameDays: PropTypes.bool,\n  isSameMonths: PropTypes.bool,\n  onOpenPicker: PropTypes.func,\n  startTime: PropTypes.oneOfType([PropTypes.string, PropTypes.number, PropTypes.instanceOf(Date)]),\n  endTime: PropTypes.oneOfType([PropTypes.string, PropTypes.number, PropTypes.instanceOf(Date)]),\n  sx: PropTypes.object\n};\nexport function DisplayTime(_ref3) {\n  let {\n    startTime,\n    endTime,\n    isSameDays,\n    isSameMonths,\n    onOpenPicker,\n    sx\n  } = _ref3;\n  const style = {\n    typography: 'caption',\n    cursor: 'pointer',\n    '&:hover': {\n      opacity: 0.72\n    }\n  };\n\n  if (isSameMonths) {\n    return /*#__PURE__*/_jsxDEV(Box, {\n      onClick: onOpenPicker,\n      sx: { ...style,\n        ...sx\n      },\n      children: isSameDays ? format(new Date(endTime), 'dd MMM') : `${format(new Date(startTime), 'dd')} - ${format(new Date(endTime), 'dd MMM')}`\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 187,\n      columnNumber: 7\n    }, this);\n  }\n\n  return /*#__PURE__*/_jsxDEV(Box, {\n    onClick: onOpenPicker,\n    sx: { ...style,\n      ...sx\n    },\n    children: [format(new Date(startTime), 'dd MMM'), \" - \", format(new Date(endTime), 'dd MMM')]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 195,\n    columnNumber: 5\n  }, this);\n}\n_c2 = DisplayTime;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"KanbanTaskAdd\");\n$RefreshReg$(_c2, \"DisplayTime\");","map":{"version":3,"sources":["D:/React_JS/React_JS/react-scripts_JS/src/sections/@dashboard/kanban/KanbanTaskAdd.js"],"names":["PropTypes","format","isSameDay","isSameMonth","useState","Box","Paper","Stack","Tooltip","Checkbox","IconButton","OutlinedInput","ClickAwayListener","MobileDateRangePicker","uuidv4","Iconify","defaultTask","attachments","comments","description","due","assignee","KanbanTaskAdd","propTypes","onAddTask","func","onCloseAddTask","name","setName","completed","setCompleted","dueDate","startTime","endTime","isSameDays","isSameMonths","onChangeDueDate","openPicker","onOpenPicker","onClosePicker","useDatePicker","date","handleKeyUpAddTask","event","key","trim","id","handleClickAddTask","handleChangeCompleted","target","checked","p","value","borderColor","setDueDate","setOpenPicker","Date","handleChangeDueDate","newValue","handleOpenPicker","handleClosePicker","DisplayTime","bool","oneOfType","string","number","instanceOf","sx","object","style","typography","cursor","opacity"],"mappings":";;;;AAAA,OAAOA,SAAP,MAAsB,YAAtB;AACA,SAASC,MAAT,EAAiBC,SAAjB,EAA4BC,WAA5B,QAA+C,UAA/C;AACA,SAASC,QAAT,QAAyB,OAAzB,C,CACA;;AACA,SAASC,GAAT,EAAcC,KAAd,EAAqBC,KAArB,EAA4BC,OAA5B,EAAqCC,QAArC,EAA+CC,UAA/C,EAA2DC,aAA3D,EAA0EC,iBAA1E,QAAmG,eAAnG;AACA,SAASC,qBAAT,QAAsC,UAAtC,C,CACA;;AACA,OAAOC,MAAP,MAAmB,uBAAnB,C,CACA;;AACA,OAAOC,OAAP,MAAoB,6BAApB,C,CAEA;;;;AAEA,MAAMC,WAAW,GAAG;AAClBC,EAAAA,WAAW,EAAE,EADK;AAElBC,EAAAA,QAAQ,EAAE,EAFQ;AAGlBC,EAAAA,WAAW,EAAE,EAHK;AAIlBC,EAAAA,GAAG,EAAE,CAAC,IAAD,EAAO,IAAP,CAJa;AAKlBC,EAAAA,QAAQ,EAAE;AALQ,CAApB;AAQAC,aAAa,CAACC,SAAd,GAA0B;AACxBC,EAAAA,SAAS,EAAExB,SAAS,CAACyB,IADG;AAExBC,EAAAA,cAAc,EAAE1B,SAAS,CAACyB;AAFF,CAA1B;AAKA,eAAe,SAASH,aAAT,OAAsD;AAAA;;AAAA,MAA/B;AAAEE,IAAAA,SAAF;AAAaE,IAAAA;AAAb,GAA+B;AACnE,QAAM,CAACC,IAAD,EAAOC,OAAP,IAAkBxB,QAAQ,CAAC,EAAD,CAAhC;AACA,QAAM,CAACyB,SAAD,EAAYC,YAAZ,IAA4B1B,QAAQ,CAAC,KAAD,CAA1C;AACA,QAAM;AACJ2B,IAAAA,OADI;AAEJC,IAAAA,SAFI;AAGJC,IAAAA,OAHI;AAIJC,IAAAA,UAJI;AAKJC,IAAAA,YALI;AAMJC,IAAAA,eANI;AAOJC,IAAAA,UAPI;AAQJC,IAAAA,YARI;AASJC,IAAAA;AATI,MAUFC,aAAa,CAAC;AAChBC,IAAAA,IAAI,EAAE,CAAC,IAAD,EAAO,IAAP;AADU,GAAD,CAVjB;;AAcA,QAAMC,kBAAkB,GAAIC,KAAD,IAAW;AACpC,QAAIA,KAAK,CAACC,GAAN,KAAc,OAAlB,EAA2B;AACzB,UAAIjB,IAAI,CAACkB,IAAL,OAAgB,EAApB,EAAwB;AACtBrB,QAAAA,SAAS,CAAC,EAAE,GAAGR,WAAL;AAAkB8B,UAAAA,EAAE,EAAEhC,MAAM,EAA5B;AAAgCa,UAAAA,IAAhC;AAAsCP,UAAAA,GAAG,EAAEW,OAA3C;AAAoDF,UAAAA;AAApD,SAAD,CAAT;AACD;AACF;AACF,GAND;;AAQA,QAAMkB,kBAAkB,GAAG,MAAM;AAC/B,QAAIpB,IAAJ,EAAU;AACRH,MAAAA,SAAS,CAAC,EAAE,GAAGR,WAAL;AAAkB8B,QAAAA,EAAE,EAAEhC,MAAM,EAA5B;AAAgCa,QAAAA,IAAhC;AAAsCP,QAAAA,GAAG,EAAEW,OAA3C;AAAoDF,QAAAA;AAApD,OAAD,CAAT;AACD;;AACDH,IAAAA,cAAc;AACf,GALD;;AAOA,QAAMsB,qBAAqB,GAAIL,KAAD,IAAW;AACvCb,IAAAA,YAAY,CAACa,KAAK,CAACM,MAAN,CAAaC,OAAd,CAAZ;AACD,GAFD;;AAIA,sBACE;AAAA,2BACE,QAAC,iBAAD;AAAmB,MAAA,WAAW,EAAEH,kBAAhC;AAAA,6BACE,QAAC,KAAD;AAAO,QAAA,OAAO,EAAC,UAAf;AAA0B,QAAA,EAAE,EAAE;AAAEI,UAAAA,CAAC,EAAE;AAAL,SAA9B;AAAA,gCACE,QAAC,aAAD;AACE,UAAA,SAAS,MADX;AAEE,UAAA,IAAI,EAAC,OAFP;AAGE,UAAA,WAAW,EAAC,WAHd;AAIE,UAAA,KAAK,EAAExB,IAJT;AAKE,UAAA,QAAQ,EAAGgB,KAAD,IAAWf,OAAO,CAACe,KAAK,CAACM,MAAN,CAAaG,KAAd,CAL9B;AAME,UAAA,OAAO,EAAEV,kBANX;AAOE,UAAA,EAAE,EAAE;AACF,uBAAW;AAAES,cAAAA,CAAC,EAAE;AAAL,aADT;AAEF,0BAAc;AAAEE,cAAAA,WAAW,EAAE;AAAf;AAFZ;AAPN;AAAA;AAAA;AAAA;AAAA,gBADF,eAcE,QAAC,KAAD;AAAO,UAAA,SAAS,EAAC,KAAjB;AAAuB,UAAA,cAAc,EAAC,eAAtC;AAAA,kCACE,QAAC,OAAD;AAAS,YAAA,KAAK,EAAC,oBAAf;AAAA,mCACE,QAAC,QAAD;AACE,cAAA,aAAa,MADf;AAEE,cAAA,OAAO,EAAExB,SAFX;AAGE,cAAA,QAAQ,EAAEmB,qBAHZ;AAIE,cAAA,IAAI,eAAE,QAAC,OAAD;AAAS,gBAAA,IAAI,EAAE;AAAf;AAAA;AAAA;AAAA;AAAA,sBAJR;AAKE,cAAA,WAAW,eAAE,QAAC,OAAD;AAAS,gBAAA,IAAI,EAAE;AAAf;AAAA;AAAA;AAAA;AAAA;AALf;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,kBADF,eAWE,QAAC,KAAD;AAAO,YAAA,SAAS,EAAC,KAAjB;AAAuB,YAAA,OAAO,EAAE,GAAhC;AAAqC,YAAA,UAAU,EAAC,QAAhD;AAAA,oCACE,QAAC,OAAD;AAAS,cAAA,KAAK,EAAC,kBAAf;AAAA,qCACE,QAAC,UAAD;AAAY,gBAAA,IAAI,EAAC,OAAjB;AAAA,uCACE,QAAC,OAAD;AAAS,kBAAA,IAAI,EAAE,iBAAf;AAAkC,kBAAA,KAAK,EAAE,EAAzC;AAA6C,kBAAA,MAAM,EAAE;AAArD;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,oBADF,EAOGhB,SAAS,IAAIC,OAAb,gBACC,QAAC,WAAD;AACE,cAAA,SAAS,EAAED,SADb;AAEE,cAAA,OAAO,EAAEC,OAFX;AAGE,cAAA,UAAU,EAAEC,UAHd;AAIE,cAAA,YAAY,EAAEC,YAJhB;AAKE,cAAA,YAAY,EAAEG;AALhB;AAAA;AAAA;AAAA;AAAA,oBADD,gBASC,QAAC,OAAD;AAAS,cAAA,KAAK,EAAC,cAAf;AAAA,qCACE,QAAC,UAAD;AAAY,gBAAA,IAAI,EAAC,OAAjB;AAAyB,gBAAA,OAAO,EAAEA,YAAlC;AAAA,uCACE,QAAC,OAAD;AAAS,kBAAA,IAAI,EAAE,mBAAf;AAAoC,kBAAA,KAAK,EAAE,EAA3C;AAA+C,kBAAA,MAAM,EAAE;AAAvD;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,oBAhBJ,eAuBE,QAAC,qBAAD;AACE,cAAA,IAAI,EAAED,UADR;AAEE,cAAA,OAAO,EAAEE,aAFX;AAGE,cAAA,MAAM,EAAED,YAHV;AAIE,cAAA,KAAK,EAAEP,OAJT;AAKE,cAAA,QAAQ,EAAEK,eALZ;AAME,cAAA,WAAW,EAAE,MAAM,CAAE;AANvB;AAAA;AAAA;AAAA;AAAA,oBAvBF;AAAA;AAAA;AAAA;AAAA;AAAA,kBAXF;AAAA;AAAA;AAAA;AAAA;AAAA,gBAdF;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA;AADF,mBADF;AAiED,C,CAED;;GAvGwBd,a;UAalBkB,a;;;KAbkBlB,a;AAyGxB,OAAO,SAASkB,aAAT,QAAiC;AAAA;;AAAA,MAAV;AAAEC,IAAAA;AAAF,GAAU;AACtC,QAAM,CAACV,OAAD,EAAUuB,UAAV,IAAwBlD,QAAQ,CAAC,CAACqC,IAAI,CAAC,CAAD,CAAL,EAAUA,IAAI,CAAC,CAAD,CAAd,CAAD,CAAtC;AACA,QAAM,CAACJ,UAAD,EAAakB,aAAb,IAA8BnD,QAAQ,CAAC,KAAD,CAA5C;AAEA,QAAM4B,SAAS,GAAGD,OAAO,CAAC,CAAD,CAAP,IAAc,EAAhC;AACA,QAAME,OAAO,GAAGF,OAAO,CAAC,CAAD,CAAP,IAAc,EAA9B;AAEA,QAAMG,UAAU,GAAGhC,SAAS,CAAC,IAAIsD,IAAJ,CAASxB,SAAT,CAAD,EAAsB,IAAIwB,IAAJ,CAASvB,OAAT,CAAtB,CAA5B;AACA,QAAME,YAAY,GAAGhC,WAAW,CAAC,IAAIqD,IAAJ,CAASxB,SAAT,CAAD,EAAsB,IAAIwB,IAAJ,CAASvB,OAAT,CAAtB,CAAhC;;AAEA,QAAMwB,mBAAmB,GAAIC,QAAD,IAAc;AACxCJ,IAAAA,UAAU,CAACI,QAAD,CAAV;AACD,GAFD;;AAIA,QAAMC,gBAAgB,GAAG,MAAM;AAC7BJ,IAAAA,aAAa,CAAC,IAAD,CAAb;AACD,GAFD;;AAIA,QAAMK,iBAAiB,GAAG,MAAM;AAC9BL,IAAAA,aAAa,CAAC,KAAD,CAAb;AACD,GAFD;;AAIA,SAAO;AACLxB,IAAAA,OADK;AAELC,IAAAA,SAFK;AAGLC,IAAAA,OAHK;AAILC,IAAAA,UAJK;AAKLC,IAAAA,YALK;AAMLC,IAAAA,eAAe,EAAEqB,mBANZ;AAOLpB,IAAAA,UAPK;AAQLC,IAAAA,YAAY,EAAEqB,gBART;AASLpB,IAAAA,aAAa,EAAEqB;AATV,GAAP;AAWD,C,CAED;;IAnCgBpB,a;;AAqChBqB,WAAW,CAACtC,SAAZ,GAAwB;AACtBW,EAAAA,UAAU,EAAElC,SAAS,CAAC8D,IADA;AAEtB3B,EAAAA,YAAY,EAAEnC,SAAS,CAAC8D,IAFF;AAGtBxB,EAAAA,YAAY,EAAEtC,SAAS,CAACyB,IAHF;AAItBO,EAAAA,SAAS,EAAEhC,SAAS,CAAC+D,SAAV,CAAoB,CAAC/D,SAAS,CAACgE,MAAX,EAAmBhE,SAAS,CAACiE,MAA7B,EAAqCjE,SAAS,CAACkE,UAAV,CAAqBV,IAArB,CAArC,CAApB,CAJW;AAKtBvB,EAAAA,OAAO,EAAEjC,SAAS,CAAC+D,SAAV,CAAoB,CAAC/D,SAAS,CAACgE,MAAX,EAAmBhE,SAAS,CAACiE,MAA7B,EAAqCjE,SAAS,CAACkE,UAAV,CAAqBV,IAArB,CAArC,CAApB,CALa;AAMtBW,EAAAA,EAAE,EAAEnE,SAAS,CAACoE;AANQ,CAAxB;AASA,OAAO,SAASP,WAAT,QAAyF;AAAA,MAApE;AAAE7B,IAAAA,SAAF;AAAaC,IAAAA,OAAb;AAAsBC,IAAAA,UAAtB;AAAkCC,IAAAA,YAAlC;AAAgDG,IAAAA,YAAhD;AAA8D6B,IAAAA;AAA9D,GAAoE;AAC9F,QAAME,KAAK,GAAG;AACZC,IAAAA,UAAU,EAAE,SADA;AAEZC,IAAAA,MAAM,EAAE,SAFI;AAGZ,eAAW;AAAEC,MAAAA,OAAO,EAAE;AAAX;AAHC,GAAd;;AAMA,MAAIrC,YAAJ,EAAkB;AAChB,wBACE,QAAC,GAAD;AAAK,MAAA,OAAO,EAAEG,YAAd;AAA4B,MAAA,EAAE,EAAE,EAAE,GAAG+B,KAAL;AAAY,WAAGF;AAAf,OAAhC;AAAA,gBACGjC,UAAU,GACPjC,MAAM,CAAC,IAAIuD,IAAJ,CAASvB,OAAT,CAAD,EAAoB,QAApB,CADC,GAEN,GAAEhC,MAAM,CAAC,IAAIuD,IAAJ,CAASxB,SAAT,CAAD,EAAsB,IAAtB,CAA4B,MAAK/B,MAAM,CAAC,IAAIuD,IAAJ,CAASvB,OAAT,CAAD,EAAoB,QAApB,CAA8B;AAHpF;AAAA;AAAA;AAAA;AAAA,YADF;AAOD;;AACD,sBACE,QAAC,GAAD;AAAK,IAAA,OAAO,EAAEK,YAAd;AAA4B,IAAA,EAAE,EAAE,EAAE,GAAG+B,KAAL;AAAY,SAAGF;AAAf,KAAhC;AAAA,eACGlE,MAAM,CAAC,IAAIuD,IAAJ,CAASxB,SAAT,CAAD,EAAsB,QAAtB,CADT,SAC6C/B,MAAM,CAAC,IAAIuD,IAAJ,CAASvB,OAAT,CAAD,EAAoB,QAApB,CADnD;AAAA;AAAA;AAAA;AAAA;AAAA,UADF;AAKD;MArBe4B,W","sourcesContent":["import PropTypes from 'prop-types';\r\nimport { format, isSameDay, isSameMonth } from 'date-fns';\r\nimport { useState } from 'react';\r\n// @mui\r\nimport { Box, Paper, Stack, Tooltip, Checkbox, IconButton, OutlinedInput, ClickAwayListener } from '@mui/material';\r\nimport { MobileDateRangePicker } from '@mui/lab';\r\n// utils\r\nimport uuidv4 from '../../../utils/uuidv4';\r\n// components\r\nimport Iconify from '../../../components/Iconify';\r\n\r\n// ----------------------------------------------------------------------\r\n\r\nconst defaultTask = {\r\n  attachments: [],\r\n  comments: [],\r\n  description: '',\r\n  due: [null, null],\r\n  assignee: [],\r\n};\r\n\r\nKanbanTaskAdd.propTypes = {\r\n  onAddTask: PropTypes.func,\r\n  onCloseAddTask: PropTypes.func,\r\n};\r\n\r\nexport default function KanbanTaskAdd({ onAddTask, onCloseAddTask }) {\r\n  const [name, setName] = useState('');\r\n  const [completed, setCompleted] = useState(false);\r\n  const {\r\n    dueDate,\r\n    startTime,\r\n    endTime,\r\n    isSameDays,\r\n    isSameMonths,\r\n    onChangeDueDate,\r\n    openPicker,\r\n    onOpenPicker,\r\n    onClosePicker,\r\n  } = useDatePicker({\r\n    date: [null, null],\r\n  });\r\n\r\n  const handleKeyUpAddTask = (event) => {\r\n    if (event.key === 'Enter') {\r\n      if (name.trim() !== '') {\r\n        onAddTask({ ...defaultTask, id: uuidv4(), name, due: dueDate, completed });\r\n      }\r\n    }\r\n  };\r\n\r\n  const handleClickAddTask = () => {\r\n    if (name) {\r\n      onAddTask({ ...defaultTask, id: uuidv4(), name, due: dueDate, completed });\r\n    }\r\n    onCloseAddTask();\r\n  };\r\n\r\n  const handleChangeCompleted = (event) => {\r\n    setCompleted(event.target.checked);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <ClickAwayListener onClickAway={handleClickAddTask}>\r\n        <Paper variant=\"outlined\" sx={{ p: 2 }}>\r\n          <OutlinedInput\r\n            multiline\r\n            size=\"small\"\r\n            placeholder=\"Task name\"\r\n            value={name}\r\n            onChange={(event) => setName(event.target.value)}\r\n            onKeyUp={handleKeyUpAddTask}\r\n            sx={{\r\n              '& input': { p: 0 },\r\n              '& fieldset': { borderColor: 'transparent !important' },\r\n            }}\r\n          />\r\n\r\n          <Stack direction=\"row\" justifyContent=\"space-between\">\r\n            <Tooltip title=\"Mark task complete\">\r\n              <Checkbox\r\n                disableRipple\r\n                checked={completed}\r\n                onChange={handleChangeCompleted}\r\n                icon={<Iconify icon={'eva:radio-button-off-outline'} />}\r\n                checkedIcon={<Iconify icon={'eva:checkmark-circle-2-outline'} />}\r\n              />\r\n            </Tooltip>\r\n\r\n            <Stack direction=\"row\" spacing={1.5} alignItems=\"center\">\r\n              <Tooltip title=\"Assign this task\">\r\n                <IconButton size=\"small\">\r\n                  <Iconify icon={'eva:people-fill'} width={20} height={20} />\r\n                </IconButton>\r\n              </Tooltip>\r\n\r\n              {startTime && endTime ? (\r\n                <DisplayTime\r\n                  startTime={startTime}\r\n                  endTime={endTime}\r\n                  isSameDays={isSameDays}\r\n                  isSameMonths={isSameMonths}\r\n                  onOpenPicker={onOpenPicker}\r\n                />\r\n              ) : (\r\n                <Tooltip title=\"Add due date\">\r\n                  <IconButton size=\"small\" onClick={onOpenPicker}>\r\n                    <Iconify icon={'eva:calendar-fill'} width={20} height={20} />\r\n                  </IconButton>\r\n                </Tooltip>\r\n              )}\r\n\r\n              <MobileDateRangePicker\r\n                open={openPicker}\r\n                onClose={onClosePicker}\r\n                onOpen={onOpenPicker}\r\n                value={dueDate}\r\n                onChange={onChangeDueDate}\r\n                renderInput={() => {}}\r\n              />\r\n            </Stack>\r\n          </Stack>\r\n        </Paper>\r\n      </ClickAwayListener>\r\n    </>\r\n  );\r\n}\r\n\r\n// ----------------------------------------------------------------------\r\n\r\nexport function useDatePicker({ date }) {\r\n  const [dueDate, setDueDate] = useState([date[0], date[1]]);\r\n  const [openPicker, setOpenPicker] = useState(false);\r\n\r\n  const startTime = dueDate[0] || '';\r\n  const endTime = dueDate[1] || '';\r\n\r\n  const isSameDays = isSameDay(new Date(startTime), new Date(endTime));\r\n  const isSameMonths = isSameMonth(new Date(startTime), new Date(endTime));\r\n\r\n  const handleChangeDueDate = (newValue) => {\r\n    setDueDate(newValue);\r\n  };\r\n\r\n  const handleOpenPicker = () => {\r\n    setOpenPicker(true);\r\n  };\r\n\r\n  const handleClosePicker = () => {\r\n    setOpenPicker(false);\r\n  };\r\n\r\n  return {\r\n    dueDate,\r\n    startTime,\r\n    endTime,\r\n    isSameDays,\r\n    isSameMonths,\r\n    onChangeDueDate: handleChangeDueDate,\r\n    openPicker,\r\n    onOpenPicker: handleOpenPicker,\r\n    onClosePicker: handleClosePicker,\r\n  };\r\n}\r\n\r\n// ----------------------------------------------------------------------\r\n\r\nDisplayTime.propTypes = {\r\n  isSameDays: PropTypes.bool,\r\n  isSameMonths: PropTypes.bool,\r\n  onOpenPicker: PropTypes.func,\r\n  startTime: PropTypes.oneOfType([PropTypes.string, PropTypes.number, PropTypes.instanceOf(Date)]),\r\n  endTime: PropTypes.oneOfType([PropTypes.string, PropTypes.number, PropTypes.instanceOf(Date)]),\r\n  sx: PropTypes.object,\r\n};\r\n\r\nexport function DisplayTime({ startTime, endTime, isSameDays, isSameMonths, onOpenPicker, sx }) {\r\n  const style = {\r\n    typography: 'caption',\r\n    cursor: 'pointer',\r\n    '&:hover': { opacity: 0.72 },\r\n  };\r\n\r\n  if (isSameMonths) {\r\n    return (\r\n      <Box onClick={onOpenPicker} sx={{ ...style, ...sx }}>\r\n        {isSameDays\r\n          ? format(new Date(endTime), 'dd MMM')\r\n          : `${format(new Date(startTime), 'dd')} - ${format(new Date(endTime), 'dd MMM')}`}\r\n      </Box>\r\n    );\r\n  }\r\n  return (\r\n    <Box onClick={onOpenPicker} sx={{ ...style, ...sx }}>\r\n      {format(new Date(startTime), 'dd MMM')} - {format(new Date(endTime), 'dd MMM')}\r\n    </Box>\r\n  );\r\n}\r\n"]},"metadata":{},"sourceType":"module"}